<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çº¯æ–‡æœ¬å¤åˆ¶æ’ä»¶æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .chat-container {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background: #f9f9f9;
        }
        .message {
            position: relative;
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #eee;
        }
        .message.assistant {
            background: #f0f8ff;
        }
        .markdown {
            line-height: 1.6;
        }
        .markdown h3 {
            color: #333;
            margin-top: 20px;
        }
        .markdown code {
            background: #f4f4f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .markdown pre {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .instructions {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .step {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-left: 4px solid #4CAF50;
        }
        .debug-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ çº¯æ–‡æœ¬å¤åˆ¶æ’ä»¶æµ‹è¯•é¡µé¢</h1>
    
    <div class="instructions">
        <h2>ğŸ“‹ æµ‹è¯•è¯´æ˜</h2>
        <div class="step">
            <strong>æ­¥éª¤1ï¼š</strong> ç¡®ä¿ä½ å·²ç»åœ¨Chromeä¸­åŠ è½½äº†è¿™ä¸ªæ’ä»¶
        </div>
        <div class="step">
            <strong>æ­¥éª¤2ï¼š</strong> æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹Consoleæ ‡ç­¾ä¸­çš„æ—¥å¿—
        </div>
        <div class="step">
            <strong>æ­¥éª¤3ï¼š</strong> åœ¨ä¸‹é¢çš„æ¨¡æ‹ŸèŠå¤©å†…å®¹å³ä¸‹è§’åº”è¯¥ä¼šå‡ºç°æŒ‰é’®
        </div>
    </div>

    <div class="debug-info">
        <h3>ğŸ” è°ƒè¯•ä¿¡æ¯</h3>
        <p><strong>é¢„æœŸæ•ˆæœï¼š</strong></p>
        <ul>
            <li>å¦‚æœæ’ä»¶æ­£ç¡®åŠ è½½ï¼šä¼šçœ‹åˆ°åŠé€æ˜çš„"Copy Plain Text"æŒ‰é’®</li>
            <li>å¦‚æœé¡µé¢ç»“æ„æ­£ç¡®ï¼šä¼šçœ‹åˆ°çº¢è‰²çš„"Debug Test Button"</li>
            <li>æ§åˆ¶å°ä¼šæ˜¾ç¤ºè¯¦ç»†çš„è°ƒè¯•æ—¥å¿—</li>
        </ul>
    </div>

    <div class="chat-container">
        <h2>æ¨¡æ‹ŸChatGPTå¯¹è¯</h2>
        
        <div class="message">
            <strong>ç”¨æˆ·ï¼š</strong> è¯·ä»‹ç»ä¸€ä¸‹Pythonç¼–ç¨‹è¯­è¨€
        </div>
        
        <div class="message assistant" data-message-author-role="assistant">
            <div class="markdown">
                <strong>ChatGPTï¼š</strong>
                <h3>Pythonç¼–ç¨‹è¯­è¨€ä»‹ç»</h3>
                
                <p>Pythonæ˜¯ä¸€ç§**é«˜çº§ç¼–ç¨‹è¯­è¨€**ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
                
                <ul>
                    <li><strong>ç®€æ´æ˜“è¯»</strong>ï¼šè¯­æ³•ç®€å•ï¼Œä»£ç å¯è¯»æ€§å¼º</li>
                    <li><strong>è·¨å¹³å°</strong>ï¼šå¯åœ¨Windowsã€Macã€Linuxç­‰ç³»ç»Ÿè¿è¡Œ</li>
                    <li><strong>ä¸°å¯Œçš„åº“</strong>ï¼šæ‹¥æœ‰å¤§é‡ç¬¬ä¸‰æ–¹åº“å’Œæ¡†æ¶</li>
                </ul>
                
                <h3>åŸºæœ¬è¯­æ³•ç¤ºä¾‹</h3>
                
                <pre><code># è¿™æ˜¯ä¸€ä¸ªç®€å•çš„Pythonç¨‹åº
def hello_world():
    print("Hello, World!")
    return "ç¨‹åºæ‰§è¡Œå®Œæˆ"

# è°ƒç”¨å‡½æ•°
result = hello_world()
print(result)</code></pre>
                
                <p>Pythonå¹¿æ³›åº”ç”¨äºï¼š</p>
                <ol>
                    <li>Webå¼€å‘ï¼ˆDjangoã€Flaskï¼‰</li>
                    <li>æ•°æ®ç§‘å­¦ï¼ˆpandasã€numpyï¼‰</li>
                    <li>äººå·¥æ™ºèƒ½ï¼ˆtensorflowã€pytorchï¼‰</li>
                    <li>è‡ªåŠ¨åŒ–è„šæœ¬</li>
                </ol>
                
                <blockquote>
                    <p><em>"Pythonçš„è®¾è®¡å“²å­¦æ˜¯'ä¼˜é›…'ã€'æ˜ç¡®'ã€'ç®€å•'ã€‚"</em></p>
                </blockquote>
                
                <p>å¦‚æœä½ æƒ³å­¦ä¹ Pythonï¼Œå»ºè®®ä»åŸºç¡€è¯­æ³•å¼€å§‹ï¼Œç„¶åæ ¹æ®å…´è¶£é€‰æ‹©å…·ä½“çš„åº”ç”¨æ–¹å‘ã€‚</p>
            </div>
        </div>
    </div>

    <div class="chat-container">
        <h2>æ¨¡æ‹ŸDeepSeekå¯¹è¯</h2>
        
        <div class="message">
            <strong>ç”¨æˆ·ï¼š</strong> è§£é‡Šä¸€ä¸‹æœºå™¨å­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µ
        </div>
        
        <div class="message assistant">
            <div class="message-content" data-role="assistant">
                <strong>DeepSeekï¼š</strong>
                <h3>æœºå™¨å­¦ä¹ åŸºç¡€æ¦‚å¿µ</h3>
                
                <p>æœºå™¨å­¦ä¹ æ˜¯**äººå·¥æ™ºèƒ½**çš„ä¸€ä¸ªé‡è¦åˆ†æ”¯ï¼Œè®©è®¡ç®—æœºèƒ½å¤Ÿä»æ•°æ®ä¸­å­¦ä¹ å¹¶åšå‡ºé¢„æµ‹æˆ–å†³ç­–ã€‚</p>
                
                <h3>ä¸»è¦ç±»å‹</h3>
                
                <ul>
                    <li><strong>ç›‘ç£å­¦ä¹ </strong>ï¼šä½¿ç”¨æ ‡è®°æ•°æ®è®­ç»ƒæ¨¡å‹</li>
                    <li><strong>æ— ç›‘ç£å­¦ä¹ </strong>ï¼šä»æ— æ ‡è®°æ•°æ®ä¸­å‘ç°æ¨¡å¼</li>
                    <li><strong>å¼ºåŒ–å­¦ä¹ </strong>ï¼šé€šè¿‡è¯•é”™å­¦ä¹ æœ€ä¼˜ç­–ç•¥</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="debug_test.js"></script>
    <script>
        // é¡µé¢åŠ è½½å®Œæˆåçš„æ£€æŸ¥
        window.addEventListener('load', function() {
            console.log('ğŸš€ Test page loaded');
            
            setTimeout(function() {
                // æ£€æŸ¥æ’ä»¶æŒ‰é’®
                const pluginButtons = document.querySelectorAll('.puretext-copy-btn');
                const debugButtons = document.querySelectorAll('.debug-test-btn');
                
                console.log(`ğŸ“Š Final check - Plugin buttons: ${pluginButtons.length}, Debug buttons: ${debugButtons.length}`);
                
                // æ˜¾ç¤ºçŠ¶æ€æç¤º
                const statusDiv = document.createElement('div');
                statusDiv.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: ${pluginButtons.length > 0 ? '#d4edda' : '#f8d7da'};
                    border: 1px solid ${pluginButtons.length > 0 ? '#c3e6cb' : '#f5c6cb'};
                    border-radius: 8px;
                    padding: 15px;
                    max-width: 300px;
                    z-index: 10000;
                    font-size: 14px;
                `;
                
                if (pluginButtons.length > 0) {
                    statusDiv.innerHTML = `
                        <h4 style="margin: 0 0 10px 0; color: #155724;">âœ… æ’ä»¶å·¥ä½œæ­£å¸¸</h4>
                        <p style="margin: 0;">æ‰¾åˆ° ${pluginButtons.length} ä¸ªå¤åˆ¶æŒ‰é’®</p>
                    `;
                } else if (debugButtons.length > 0) {
                    statusDiv.innerHTML = `
                        <h4 style="margin: 0 0 10px 0; color: #721c24;">âš ï¸ æ’ä»¶æœªåŠ è½½</h4>
                        <p style="margin: 0 0 10px 0;">é¡µé¢ç»“æ„æ­£ç¡®ï¼Œä½†æ’ä»¶æœªå·¥ä½œ</p>
                        <p style="margin: 0; font-size: 12px;">è¯·æ£€æŸ¥Chromeæ‰©å±•ç®¡ç†é¡µé¢</p>
                    `;
                } else {
                    statusDiv.innerHTML = `
                        <h4 style="margin: 0 0 10px 0; color: #721c24;">âŒ é¡µé¢ç»“æ„é—®é¢˜</h4>
                        <p style="margin: 0;">æœªæ‰¾åˆ°ä»»ä½•æŒ‰é’®ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—</p>
                    `;
                }
                
                // æ·»åŠ å…³é—­æŒ‰é’®
                const closeBtn = document.createElement('button');
                closeBtn.textContent = 'å…³é—­';
                closeBtn.style.cssText = 'margin-top: 10px; padding: 5px 10px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer;';
                closeBtn.onclick = () => statusDiv.remove();
                statusDiv.appendChild(closeBtn);
                
                document.body.appendChild(statusDiv);
                
                // 5ç§’åè‡ªåŠ¨å…³é—­
                setTimeout(() => {
                    if (statusDiv.parentNode) {
                        statusDiv.remove();
                    }
                }, 10000);
                
            }, 3000);
        });
    </script>
</body>
</html>